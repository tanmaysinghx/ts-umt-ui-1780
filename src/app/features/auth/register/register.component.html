<!-- FULL SCREEN REGISTER WRAPPER -->
<div
  class="min-h-screen w-full flex items-center justify-center px-4
         bg-gradient-to-b from-white to-gray-100 dark:from-gray-900 dark:to-gray-800"
>
  <div class="w-full max-w-xl">

    <!-- CARD -->
    <div
      class="bg-white dark:bg-gray-900 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700
             p-6 sm:p-8"
    >
      <!-- Header -->
      <div class="mb-6 text-center">
        <h2 class="text-3xl font-bold text-gray-900 dark:text-white">
          Create your account
        </h2>
        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
          One profile, access to all your workspace applications.
        </p>
      </div>

      <!-- Sign up with Google -->
      <button
        type="button"
        (click)="signUpWithGoogle()"
        class="w-full flex items-center justify-center gap-3 rounded-lg border border-gray-300
               bg-white py-2.5 text-sm font-medium text-gray-700 shadow-sm
               hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 dark:hover:bg-gray-700"
      >
        <img
          src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg"
          class="w-5 h-5"
          alt="Google"
        />
        <span>Sign up with Google</span>
      </button>

      <div class="flex items-center my-6">
        <div class="flex-1 h-px bg-gray-200 dark:bg-gray-700"></div>
        <span class="px-3 text-xs uppercase tracking-wide text-gray-400 dark:text-gray-500">
          or use your email
        </span>
        <div class="flex-1 h-px bg-gray-200 dark:bg-gray-700"></div>
      </div>

      <!-- FORM -->
      <form [formGroup]="registerForm" class="space-y-5">
        <!-- Email -->
        <div>
          <label
            class="block mb-2 text-sm font-medium"
            [ngClass]="{
              'text-gray-900 dark:text-white':
                !(registerForm.controls['userEmailId'].errors?.['required']) ||
                registerForm.controls['userEmailId'].pristine,
              'text-red-700 dark:text-red-500':
                registerForm.controls['userEmailId'].errors?.['required'] &&
                !registerForm.controls['userEmailId'].pristine
            }"
          >
            Your email
          </label>

          <input
            type="email"
            id="email"
            formControlName="userEmailId"
            placeholder="name&#64;company.com"
            class="block w-full rounded-lg bg-gray-50 border border-gray-300 p-2.5 text-sm text-gray-900
                   focus:ring-primary-500 focus:border-primary-500
                   dark:bg-gray-800 dark:border-gray-600 dark:text-white dark:placeholder-gray-400
                   dark:focus:ring-primary-500 dark:focus:border-primary-500"
          />

          <p
            *ngIf="registerForm.controls['userEmailId'].errors?.['required'] &&
                   !registerForm.controls['userEmailId'].pristine"
            class="mt-2 text-xs text-red-600 dark:text-red-500"
          >
            <span class="font-medium">Email required.</span> Please fill this field.
          </p>
        </div>

        <!-- Password -->
        <div>
          <label
            class="block mb-2 text-sm font-medium"
            [ngClass]="{
              'text-gray-900 dark:text-white':
                !(registerForm.controls['userPassword'].errors?.['required']) ||
                registerForm.controls['userPassword'].pristine,
              'text-red-700 dark:text-red-500':
                registerForm.controls['userPassword'].errors?.['required'] &&
                !registerForm.controls['userPassword'].pristine
            }"
          >
            Password
          </label>

          <input
            type="password"
            id="password"
            formControlName="userPassword"
            placeholder="••••••••"
            class="block w-full rounded-lg bg-gray-50 border border-gray-300 p-2.5 text-sm text-gray-900
                   focus:ring-primary-500 focus:border-primary-500
                   dark:bg-gray-800 dark:border-gray-600 dark:text-white dark:placeholder-gray-400
                   dark:focus:ring-primary-500 dark:focus:border-primary-500"
          />

          <p
            *ngIf="registerForm.controls['userPassword'].errors?.['required'] &&
                   !registerForm.controls['userPassword'].pristine"
            class="mt-2 text-xs text-red-600 dark:text-red-500"
          >
            <span class="font-medium">Password required.</span> Please set a password.
          </p>
        </div>

        <!-- Confirm Password -->
        <div>
          <label
            class="block mb-2 text-sm font-medium"
            [ngClass]="{
              'text-gray-900 dark:text-white':
                !(registerForm.controls['userPasswordConfirm'].errors?.['required']) ||
                registerForm.controls['userPasswordConfirm'].pristine,
              'text-red-700 dark:text-red-500':
                registerForm.controls['userPasswordConfirm'].errors?.['required'] &&
                !registerForm.controls['userPasswordConfirm'].pristine
            }"
          >
            Confirm password
          </label>

          <input
            type="password"
            id="userPasswordConfirm"
            formControlName="userPasswordConfirm"
            placeholder="••••••••"
            class="block w-full rounded-lg bg-gray-50 border border-gray-300 p-2.5 text-sm text-gray-900
                   focus:ring-primary-500 focus:border-primary-500
                   dark:bg-gray-800 dark:border-gray-600 dark:text-white dark:placeholder-gray-400
                   dark:focus:ring-primary-500 dark:focus:border-primary-500"
          />

          <p
            *ngIf="registerForm.controls['userPasswordConfirm'].errors?.['required'] &&
                   !registerForm.controls['userPasswordConfirm'].pristine"
            class="mt-2 text-xs text-red-600 dark:text-red-500"
          >
            <span class="font-medium">Confirmation required.</span> Please re-enter your password.
          </p>

          <!-- Optional: mismatch error if you set it in TS -->
          <p
            *ngIf="registerForm.errors?.['passwordMismatch']"
            class="mt-2 text-xs text-red-600 dark:text-red-500"
          >
            Passwords do not match.
          </p>
        </div>

        <!-- Terms -->
        <div class="flex items-start gap-3">
          <input
            id="terms"
            type="checkbox"
            formControlName="termsFlag"
            class="mt-1 h-4 w-4 rounded border-gray-300 bg-gray-50
                   focus:ring-2 focus:ring-primary-500
                   dark:bg-gray-800 dark:border-gray-600 dark:focus:ring-primary-600"
          />
          <label for="terms" class="text-sm text-gray-700 dark:text-gray-200">
            I accept the
            <a href="#" class="text-primary-700 hover:underline dark:text-primary-500">
              Terms and Conditions
            </a>
          </label>
        </div>

        <!-- CTA -->
        <button
          type="button"
          (click)="submitForm()"
          class="w-full inline-flex justify-center items-center rounded-lg bg-primary-700 px-5 py-2.5
                 text-sm font-medium text-white hover:bg-primary-800 focus:outline-none focus:ring-4
                 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"
        >
          Create account
        </button>

        <div class="text-center text-sm font-medium text-gray-500 dark:text-gray-400">
          Already have an account?
          <span
            (click)="navigateToLogin()"
            class="text-primary-700 hover:underline dark:text-primary-500 cursor-pointer"
          >
            Login here
          </span>
        </div>
      </form>
    </div>

    <!-- Snackbar -->
    <div class="mt-4" *ngIf="snackbarFlag">
      <app-snackbar-detailed
        [message]="snackbarMessage"
        [snackbarType]="snackbarType"
        [duration]="snackbarDuration"
      ></app-snackbar-detailed>
    </div>
  </div>
</div>